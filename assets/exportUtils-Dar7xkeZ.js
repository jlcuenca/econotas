const i=(e,n=[])=>{try{const o={version:"1.0",exportedAt:new Date().toISOString(),session:{id:e.id,name:e.sessionName||"Untitled Session",createdAt:e.createdAt,durationMs:e.durationMs,audioUrl:e.audioUrl,strokes:typeof e.strokes=="string"?JSON.parse(e.strokes):e.strokes,comments:n}},a=JSON.stringify(o,null,2),s=new Blob([a],{type:"application/json"}),r=URL.createObjectURL(s),t=document.createElement("a");t.href=r;const c=(e.sessionName||"session").replace(/[^a-z0-9]/gi,"_").toLowerCase();return t.download=`econotas_${c}_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(r),!0}catch(o){return console.error("Error exporting session:",o),!1}};export{i as exportSessionToJson};
